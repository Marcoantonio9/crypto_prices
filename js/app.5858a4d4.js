(function(){"use strict";var e={3762:function(e,t,a){var r=a(9242),n=a(3396);const o={id:"app"};function l(e,t,a,r,l,i){const c=(0,n.up)("CryptoCurrencies");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n.Wm)(c)])}var i=a(7139);const c={class:"container mx-auto mt-5"},s={class:"flex flex-col gap-8 py-10 px-5 shadow-lg"},u=(0,n._)("div",{class:"flex-1 flex justify-center"},[(0,n._)("span",{class:"text-3xl text-gray-800"}," Crypto Prices ")],-1),d={class:"flex gap-10"},p={class:"flex-1"},v=["value"],f={class:"flex-1"},g={class:"flex flex-col md:flex-row lg:flex-row gap-4 px-5 md:px-0 lg:px-0"},y={class:"flex-1 flex flex-col w-12/12 md:w-6/12 lg:w-6/12 h-full rounded px-5 py-5 bg-slate-500 text-white mt-8 mb-8 animateInLeft"},m={class:"text-4xl capitalize"},D={class:"flex flex-col"},x={key:0,class:"text-lg mt-8"},h={key:1,class:"text-lg mt-8"},w={key:2,class:"text-4xl"},b={key:1,class:"mx-auto mt-10"},_={class:"flex-1 px-5 py-5 animateInRight"};function k(e,t,a,o,l,k){const S=(0,n.up)("Datepicker"),C=(0,n.up)("Loading"),L=(0,n.up)("MainErrorMessage"),H=(0,n.up)("Chart");return(0,n.wg)(),(0,n.iD)("div",c,[(0,n._)("div",s,[u,(0,n._)("div",d,[(0,n._)("div",p,[(0,n.wy)((0,n._)("select",{class:"h-10 w-full px-3","onUpdate:modelValue":t[0]||(t[0]=e=>o.cryptoSelected=e),onChange:t[1]||(t[1]=e=>o.handleSelectedCrypto(e))},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.cryptocurrencies,((e,t)=>((0,n.wg)(),(0,n.iD)("option",{key:t,value:e.value},(0,i.zw)(e.name),9,v)))),128))],544),[[r.bM,o.cryptoSelected]])]),(0,n._)("div",f,[(0,n.Wm)(S,{class:"h-50","data-testid":"datepicker",modelValue:o.date,"onUpdate:modelValue":t[2]||(t[2]=e=>o.date=e),locale:"br",format:o.format,clearable:!1,maxDate:new Date},{"action-preview":(0,n.w5)((({})=>[(0,n.Uk)((0,i.zw)(o.format(o.date)),1)])),_:1},8,["modelValue","format","maxDate"])])])]),(0,n._)("div",g,[(0,n._)("div",y,[(0,n._)("span",m,(0,i.zw)(o.nameCryptoSelected),1),(0,n._)("div",D,[o.statusDate?((0,n.wg)(),(0,n.iD)("span",h,"Price on the day: "+(0,i.zw)(o.date.toLocaleDateString("pt-br")),1)):((0,n.wg)(),(0,n.iD)("span",x,"Price Now:")),o.loading||o.errorMessage?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",w,(0,i.zw)(o.formatPriceBrl),1))]),o.loading?((0,n.wg)(),(0,n.j4)(C,{key:0})):(0,n.kq)("",!0),o.errorMessage?((0,n.wg)(),(0,n.iD)("div",b,[(0,n.Wm)(L)])):(0,n.kq)("",!0)]),(0,n._)("div",_,[(0,n.Wm)(H,{last30Days:o.last30Days,priceInDays:o.priceInDays,cryptoSelected:o.cryptoSelected},null,8,["last30Days","priceInDays","cryptoSelected"])])])])}a(7658);var S=a(4870);const C=[{name:"Bitcoin",value:"bitcoin"},{name:"Dacxi",value:"dacxi"},{name:"Ethereum",value:"ethereum"},{name:"Athom",value:"cosmos"},{name:"Luna",value:"terra-luna"}],L=e=>{const t=e.getDate(),a=e.getMonth()+1,r=e.getFullYear(),n=e.toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit"});return`${t<=9?"0"+t:t}/${a<=9?"0"+a:a}/${r}, ${n}`};var H=a(70);const M="https://api.coingecko.com/api/v3",$=async e=>{const{data:t}=await H.ZP.get(`${M}/simple/price?ids=${e}&vs_currencies=brl`);return t[`${e}`].brl},I=async(e,t,a)=>{const{data:r}=await H.ZP.get(`${M}/coins/${e}/market_chart/range?vs_currency=brl&from=${t}&to=${a}`);return r.prices[0][1]},P=async e=>{const{data:t}=await H.ZP.get(`${M}/coins/${e}/market_chart?vs_currency=brl&days=30&interval=daily`);return t};function O(e,t,a,r,o,l){const i=(0,n.up)("Line");return(0,n.wg)(),(0,n.j4)(i,{"chart-data":r.chartData},null,8,["chart-data"])}var j=a(6294),Z=a(741);Z.kL.register(Z.Dx,Z.u,Z.De,Z.ZL,Z.uw,Z.f$,Z.jn,Z.od);var z={name:"LineChart",components:{Line:j.x1},props:{last30Days:Array,priceInDays:Array,cryptoSelected:String},setup(e){const t=(0,S.iH)({labels:e.last30Days,options:{scales:{xAxes:[{type:"time"}]}},datasets:[{label:"Price in the last days",data:[],fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]});return(0,n.bv)((()=>{t.value.datasets[0].data=e.priceInDays})),(0,n.YP)((()=>e.priceInDays),(()=>{t.value.datasets[0].data=e.priceInDays,t.value.labels=e.last30Days})),{chartData:t}}},F=a(89);const T=(0,F.Z)(z,[["render",O]]);var A=T;const B={id:"loading"},E=(0,n._)("div",{class:"lds-ripple"},[(0,n._)("div"),(0,n._)("div")],-1),V=[E];function W(e,t,a,r,o,l){return(0,n.wg)(),(0,n.iD)("div",B,V)}var Y={};const q=(0,F.Z)(Y,[["render",W]]);var U=q;const R={id:"error",class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert"};function K(e,t,a,r,o,l){return(0,n.wg)(),(0,n.iD)("div",R," Falha ao buscar os dados, aguarde um instante e tente novamente. ")}var N={};const G=(0,F.Z)(N,[["render",K]]);var J=G,Q={components:{Chart:A,Loading:U,MainErrorMessage:J},setup(){const e=(0,S.iH)("bitcoin"),t=(0,S.iH)("Bitcoin"),a=(0,S.iH)(0),r=(0,S.iH)(new Date),o=(0,S.iH)([]),l=(0,S.iH)([]),i=(0,S.iH)([]),c=(0,S.iH)(),s=(0,S.iH)(!1),u=(0,S.iH)(!1),d=(0,S.iH)(!1),p=async()=>{try{a.value=await $(e.value),s.value=!0}catch(t){u.value=!0}finally{setTimeout((()=>{s.value=!1}),1e3)}},v=async()=>{const t=new Date(r.value);t.setMinutes(t.getMinutes()-5);const n=Math.floor(new Date(t).getTime()/1e3),o=new Date(r.value);o.setDate(o.getDate()+1);const l=Math.floor(new Date(o).getTime()/1e3);try{a.value=await I(e.value,n,l),u.value=!1}catch(i){u.value=!0}},f=async()=>{(l.value.length>0||i.value.length)&&(l.value=[],i.value=[]);try{o.value=await P(e.value),o.value.prices.map((e=>{const t=new Date(e[0]).toLocaleDateString("pt-br"),a=e[1];l.value.push(t),i.value.push(a)}))}catch(t){u.value=!0}},g=(0,n.Fl)((()=>a.value.toLocaleString("pt-br",{style:"currency",currency:"BRL",maximumFractionDigits:3}))),y=e=>{t.value=e.target.options[e.target.options.selectedIndex].text,f(),m.value?p():v()},m=(0,n.Fl)((()=>{const e=r.value.toLocaleDateString("pt-br"),t=(new Date).toLocaleDateString("pt-br");return e===t}));return(0,n.bv)((()=>{p(),f(),c.value=setInterval((()=>{p()}),1e4)})),(0,n.YP)(r,((e,t)=>{if(L(e)===L(t)&&m.value)return d.value=!1,void p();d.value=!0,v(),clearInterval(c.value)})),{cryptoSelected:e,nameCryptoSelected:t,cryptocurrencies:C,formatPriceBrl:g,date:r,checkDateSelectedAndCurrentDate:m,last30Days:l,priceInDays:i,loading:s,errorMessage:u,statusDate:d,handleSelectedCrypto:y,format:L,getHistory:f}}};const X=(0,F.Z)(Q,[["render",k]]);var ee=X,te={components:{CryptoCurrencies:ee}};const ae=(0,F.Z)(te,[["render",l]]);var re=ae,ne=a(9024);const oe=(0,r.ri)(re);oe.component("Datepicker",ne.Z),oe.mount("#app")}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,r,n,o){if(!r){var l=1/0;for(u=0;u<e.length;u++){r=e[u][0],n=e[u][1],o=e[u][2];for(var i=!0,c=0;c<r.length;c++)(!1&o||l>=o)&&Object.keys(a.O).every((function(e){return a.O[e](r[c])}))?r.splice(c--,1):(i=!1,o<l&&(l=o));if(i){e.splice(u--,1);var s=n();void 0!==s&&(t=s)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,o,l=r[0],i=r[1],c=r[2],s=0;if(l.some((function(t){return 0!==e[t]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(c)var u=c(a)}for(t&&t(r);s<l.length;s++)o=l[s],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},r=self["webpackChunkcrypto_prices"]=self["webpackChunkcrypto_prices"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(3762)}));r=a.O(r)})();
//# sourceMappingURL=app.5858a4d4.js.map